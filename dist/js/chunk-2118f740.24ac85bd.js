(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2118f740"],{"159d":function(e,t,n){},2877:function(e,t,n){"use strict";function s(e,t,n,s,i,a,r,o){var p,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),s&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),r?(p=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=p):i&&(p=o?function(){i.call(this,this.$root.$options.shadowRoot)}:i),p)if(l.functional){l._injectStyles=p;var c=l.render;l.render=function(e,t){return p.call(t),c(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,p):[p]}return{exports:e,options:l}}n.d(t,"a",(function(){return s}))},3475:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r}));n("d81d");function s(e){var t=/^1[3|4|5|7|8][0-9]\d{8}$/;return t.test(e)}function i(e){var t=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;return t.test(e)}function a(){var e=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;return e}function r(e){var t=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)])+$).{6,12}$/;return t.test(e)}},5319:function(e,t,n){"use strict";var s=n("d784"),i=n("825a"),a=n("7b0b"),r=n("50c4"),o=n("a691"),p=n("1d80"),l=n("8aa5"),c=n("14c3"),d=Math.max,u=Math.min,h=Math.floor,_=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};s("replace",2,(function(e,t,n,s){var f=s.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=s.REPLACE_KEEPS_$0,b=f?"$":"$0";return[function(n,s){var i=p(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,i,s):t.call(String(i),n,s)},function(e,s){if(!f&&v||"string"===typeof s&&-1===s.indexOf(b)){var a=n(t,e,this,s);if(a.done)return a.value}var p=i(e),h=String(this),_="function"===typeof s;_||(s=String(s));var m=p.global;if(m){var k=p.unicode;p.lastIndex=0}var y=[];while(1){var C=c(p,h);if(null===C)break;if(y.push(C),!m)break;var x=String(C[0]);""===x&&(p.lastIndex=l(h,r(p.lastIndex),k))}for(var w="",D=0,T=0;T<y.length;T++){C=y[T];for(var R=String(C[0]),S=d(u(o(C.index),h.length),0),A=[],E=1;E<C.length;E++)A.push(g(C[E]));var I=C.groups;if(_){var O=[R].concat(A,S,h);void 0!==I&&O.push(I);var j=String(s.apply(void 0,O))}else j=$(R,h,S,A,I,s);S>=D&&(w+=h.slice(D,S)+j,D=S+R.length)}return w+h.slice(D)}];function $(e,n,s,i,r,o){var p=s+e.length,l=i.length,c=m;return void 0!==r&&(r=a(r),c=_),t.call(o,c,(function(t,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,s);case"'":return n.slice(p);case"<":o=r[a.slice(1,-1)];break;default:var c=+a;if(0===c)return t;if(c>l){var d=h(c/10);return 0===d?t:d<=l?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):t}o=i[c-1]}return void 0===o?"":o}))}}))},"99af":function(e,t,n){"use strict";var s=n("23e7"),i=n("d039"),a=n("e8b5"),r=n("861d"),o=n("7b0b"),p=n("50c4"),l=n("8418"),c=n("65f0"),d=n("1dde"),u=n("b622"),h=n("2d00"),_=u("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",f=h>=51||!i((function(){var e=[];return e[_]=!1,e.concat()[0]!==e})),v=d("concat"),b=function(e){if(!r(e))return!1;var t=e[_];return void 0!==t?!!t:a(e)},$=!f||!v;s({target:"Array",proto:!0,forced:$},{concat:function(e){var t,n,s,i,a,r=o(this),d=c(r,0),u=0;for(t=-1,s=arguments.length;t<s;t++)if(a=-1===t?r:arguments[t],b(a)){if(i=p(a.length),u+i>m)throw TypeError(g);for(n=0;n<i;n++,u++)n in a&&l(d,u,a[n])}else{if(u>=m)throw TypeError(g);l(d,u++,a)}return d.length=u,d}})},"99c5":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return l}));n("96cf");var s=n("1da1"),i=n("bd6f"),a=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i["a"])({url:"/api/order/post_order",data:{planId:t}});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i["a"])({url:"/api/order/cancel",data:{orderId:t}});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i["a"])({url:"/api/order/querybyuser"});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i["a"])({url:"/api/order/querybyid",data:{orderId:t}});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i["a"])({url:"/api/plan/querybyid",data:{planId:t}});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},a165:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return p}));n("ac1f"),n("5319");var s=n("bc3a"),i=n.n(s),a=function(){return location.origin.replace("3030","8090")+"/react_v1"},r=function(e,t){return t=t||{},i.a.get(a()+e,{params:t,headers:{"Access-Control-Allow-Origin":"*"},withCredentials:!0})},o=function(e,t,n){return t=t||{},i.a.get(a()+e,{params:t,headers:{"Access-Control-Allow-Origin":"*"},withCredentials:!0,cancelToken:n.token})},p=function(e,t){return t=t||new FormData,i.a.post(a()+e,t,{headers:{"Access-Control-Allow-Origin":"*"},withCredentials:!0})}},a434:function(e,t,n){"use strict";var s=n("23e7"),i=n("23cb"),a=n("a691"),r=n("50c4"),o=n("7b0b"),p=n("65f0"),l=n("8418"),c=n("1dde"),d=n("ae40"),u=c("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),_=Math.max,m=Math.min,g=9007199254740991,f="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!u||!h},{splice:function(e,t){var n,s,c,d,u,h,v=o(this),b=r(v.length),$=i(e,b),k=arguments.length;if(0===k?n=s=0:1===k?(n=0,s=b-$):(n=k-2,s=m(_(a(t),0),b-$)),b+n-s>g)throw TypeError(f);for(c=p(v,s),d=0;d<s;d++)u=$+d,u in v&&l(c,d,v[u]);if(c.length=s,n<s){for(d=$;d<b-s;d++)u=d+s,h=d+n,u in v?v[h]=v[u]:delete v[h];for(d=b;d>b-s+n;d--)delete v[d-1]}else if(n>s)for(d=b-s;d>$;d--)u=d+s-1,h=d+n-1,u in v?v[h]=v[u]:delete v[h];for(d=0;d<n;d++)v[d+$]=arguments[d+2];return v.length=b-s+n,c}})},a95b:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"quotation-page"},[n("vue-headful",{attrs:{title:e.$t("shipping_booking_set.letter_of_authorization")+" | "+e.$t("home.web_title_simple")}}),n("div",{staticClass:"quotation-content"},[n("h1",{staticClass:"header"},[e._v(e._s(e.$t("shipping_booking_set.letter_of_authorization")))]),n("p",{staticClass:"no"},[e._v(" "+e._s(e.$t("shipping_booking_set.order_id"))+"："+e._s(e.detailId)+" "),e.planDetail?n("span",[e._v("（"+e._s(e.TRANSPACKTYPES[e.planDetail.transPackType])+"）")]):e._e()]),n("h2",[e._v(e._s(e.$t("shipping_booking_set.shop_inform")))]),n("table",{staticClass:"goods-table column-4-table"},[n("tbody",[n("tr",[n("td",{staticClass:"em maxWidth"},[e._v(e._s(e.$t("shipping_booking_set.shop_name")))]),n("td",{staticClass:"em midum maxWidth"},[e._v(e._s(e.$t("shipping_booking_set.shop_interest")))]),n("td",{staticClass:"em mini maxWidth"},[e._v(e._s(e.$t("shipping_booking_set.shop_count")))]),n("td",{staticClass:"em big maxWidth"},[e._v(e._s(e.$t("shipping_booking_set.shop_choice")))]),n("td",{staticClass:"em huge maxWidth"},[e._v(e._s(e.$t("shipping_booking_set.shop_description")))]),n("td",{staticClass:"em mini maxWidth"},[e._v(" "+e._s(e.$t("shipping_booking_set.shop_weight"))+" "),n("br"),e._v("(KGS) ")]),n("td",{staticClass:"em mini maxWidth"},[e._v(" "+e._s(e.$t("shipping_booking_set.shop_volume"))+" "),n("br"),e._v("(m³) ")])]),e._l(e.goodsDetail,(function(t,s){return n("tr",{key:s},[n("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.name,placement:"top-start"}},[n("td",{staticClass:"set"},[e._v(e._s(t.name))])]),n("td",[n("el-input",{attrs:{size:"small",placeholder:e.$t("shipping_booking_set.shop_interest")},model:{value:t.marks,callback:function(n){e.$set(t,"marks",n)},expression:"item.marks"}})],1),n("td",[n("el-input-number",{attrs:{size:"small","controls-position":"right",min:1,max:100,label:"描述文字"},model:{value:t.num,callback:function(n){e.$set(t,"num",n)},expression:"item.num"}})],1),n("td",[n("el-select",{staticClass:"input",attrs:{size:"small",placeholder:e.$t("shipping_booking_set.package_name")},model:{value:t.unit,callback:function(n){e.$set(t,"unit",n)},expression:"item.unit"}},e._l(e.GOODSUNIT,(function(t){return n("el-option",{key:t.id,attrs:{label:e.$t("shipping_booking_set."+t.translate),value:t.en}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(e.$t("shipping_booking_set."+t.translate)))]),n("span",{staticStyle:{float:"right",color:"#999","font-size":"13px"}},[e._v(e._s(t.en))])])})),1)],1),n("td",[n("el-input",{attrs:{type:"textarea",rows:1,placeholder:e.$t("shipping_booking_set.shop_english_discribe")},model:{value:t.desc,callback:function(n){e.$set(t,"desc",n)},expression:"item.desc"}})],1),n("td",[e._v(e._s(t.weight))]),n("td",[e._v(e._s(t.volume))])],1)}))],2)]),n("h2",[e._v(e._s(e.$t("shipping_booking_set.contact_inform")))]),n("div",{staticClass:"info-wrap"},[n("div",{staticClass:"left"},[n("el-input",{staticClass:"setGreyWidth",attrs:{placeholder:e.$t("shipping_booking_set.shipper_placeholder1")},model:{value:e.shipper.name,callback:function(t){e.$set(e.shipper,"name",t)},expression:"shipper.name"}},[n("template",{slot:"prepend"},[n("span",{staticClass:"setdotColor"},[e._v("*")]),e._v(" "+e._s(e.$t("shipping_booking_set.shipper_name"))+" ")])],2),n("el-input",{attrs:{placeholder:e.$t("shipping_booking_set.shipper_placeholder2")},model:{value:e.shipper.address,callback:function(t){e.$set(e.shipper,"address",t)},expression:"shipper.address"}},[n("template",{slot:"prepend"},[n("span",{staticClass:"setdotColor"},[e._v("*")]),e._v(" "+e._s(e.$t("shipping_booking_set.address"))+" ")])],2),n("el-input",{attrs:{placeholder:e.$t("shipping_booking_set.shipper_placeholder3")},model:{value:e.shipper.phone,callback:function(t){e.$set(e.shipper,"phone",t)},expression:"shipper.phone"}},[n("template",{slot:"prepend"},[n("span",{staticClass:"setdotColor"},[e._v("*")]),e._v(" "+e._s(e.$t("shipping_booking_set.phone"))+" ")])],2),n("el-input",{attrs:{placeholder:e.$t("shipping_booking_set.shipper_placeholder4")},model:{value:e.shipper.email,callback:function(t){e.$set(e.shipper,"email",t)},expression:"shipper.email"}},[n("template",{slot:"prepend"},[n("span",{staticClass:"setdotColor"},[e._v("*")]),e._v(" "+e._s(e.$t("shipping_booking_set.email"))+" ")])],2),n("el-input",{attrs:{placeholder:e.$t("shipping_booking_set.another_inform_placeholder")},model:{value:e.shipper.inform,callback:function(t){e.$set(e.shipper,"inform",t)},expression:"shipper.inform"}},[n("template",{slot:"prepend"},[e._v(e._s(e.$t("shipping_booking_set.another_inform")))])],2)],1),n("div",{staticClass:"sep"}),n("div",{staticClass:"right"},[n("el-input",{attrs:{placeholder:e.$t("shipping_booking_set.cosigner_placeholder1")},model:{value:e.consignee.name,callback:function(t){e.$set(e.consignee,"name",t)},expression:"consignee.name"}},[n("template",{slot:"prepend"},[n("span",{staticClass:"setdotColor"},[e._v("*")]),e._v(" "+e._s(e.$t("shipping_booking_set.cosigner_name"))+" ")])],2),n("el-input",{attrs:{placeholder:e.$t("shipping_booking_set.cosigner_placeholder2")},model:{value:e.consignee.address,callback:function(t){e.$set(e.consignee,"address",t)},expression:"consignee.address"}},[n("template",{slot:"prepend"},[n("span",{staticClass:"setdotColor"},[e._v("*")]),e._v(" "+e._s(e.$t("shipping_booking_set.address"))+" ")])],2),n("el-input",{attrs:{placeholder:e.$t("shipping_booking_set.cosigner_placeholder3")},model:{value:e.consignee.phone,callback:function(t){e.$set(e.consignee,"phone",t)},expression:"consignee.phone"}},[n("template",{slot:"prepend"},[n("span",{staticClass:"setdotColor"},[e._v("*")]),e._v(" "+e._s(e.$t("shipping_booking_set.phone"))+" ")])],2),n("el-input",{attrs:{placeholder:e.$t("shipping_booking_set.cosigner_placeholder4")},model:{value:e.consignee.email,callback:function(t){e.$set(e.consignee,"email",t)},expression:"consignee.email"}},[n("template",{slot:"prepend"},[n("span",{staticClass:"setdotColor"},[e._v("*")]),e._v(" "+e._s(e.$t("shipping_booking_set.email"))+" ")])],2),n("el-input",{attrs:{placeholder:e.$t("shipping_booking_set.another_inform_placeholder")},model:{value:e.consignee.inform,callback:function(t){e.$set(e.consignee,"inform",t)},expression:"consignee.inform"}},[n("template",{slot:"prepend"},[e._v(e._s(e.$t("shipping_booking_set.another_inform")))])],2)],1)]),n("h2",[e._v(e._s(e.$t("order_detail.line_inform")))]),n("div",{staticClass:"operator-info"},[n("div",{staticClass:"left"},[n("el-input",{attrs:{disabled:""},model:{value:e.address.from,callback:function(t){e.$set(e.address,"from",t)},expression:"address.from"}},[n("template",{slot:"prepend"},[e._v(e._s(e.$t("shipping_booking_set.address_go")))])],2),n("el-input",{attrs:{disabled:""},model:{value:e.plan.pol,callback:function(t){e.$set(e.plan,"pol",t)},expression:"plan.pol"}},[e.setData.plan?n("template",{slot:"prepend"},[e._v(e._s(e.$t("order_detail.pol")))]):n("template",{slot:"prepend"},[e._v(e._s(e.$t("order_detail.from_city")))])],2)],1),n("div",{staticClass:"sep"}),n("div",{staticClass:"right"},[n("el-input",{attrs:{disabled:""},model:{value:e.address.to,callback:function(t){e.$set(e.address,"to",t)},expression:"address.to"}},[n("template",{slot:"prepend"},[e._v(e._s(e.$t("shipping_booking_set.address_to")))])],2),n("el-input",{attrs:{disabled:""},model:{value:e.plan.pod,callback:function(t){e.$set(e.plan,"pod",t)},expression:"plan.pod"}},[e.setData.plan?n("template",{slot:"prepend"},[e._v(e._s(e.$t("order_detail.pod")))]):n("template",{slot:"prepend"},[e._v(e._s(e.$t("order_detail.to_city")))])],2)],1)]),n("h2",[e._v(e._s(e.$t("shipping_booking_set.pay_inform")))]),n("div",{staticClass:"pay-info"},[n("div",{staticClass:"line"},[n("label",[e._v(e._s(e.$t("shipping_booking_set.insurance"))+":")]),n("el-checkbox",{model:{value:e.insurance,callback:function(t){e.insurance=t},expression:"insurance"}},[e._v(e._s(e.$t("shipping_booking_set.pay_buy_insurance")))])],1),n("div",{staticClass:"line"},[n("label",[e._v(e._s(e.$t("shipping_booking_set.who_pay"))+":")]),n("el-radio-group",{model:{value:e.payment,callback:function(t){e.payment=t},expression:"payment"}},[n("el-radio",{attrs:{label:"Shipper"}},[e._v(e._s(e.$t("shipping_booking_set.payed")))]),n("el-radio",{attrs:{label:"Consignee"}},[e._v(e._s(e.$t("shipping_booking_set.pay")))])],1)],1)]),n("h2",[e._v(e._s(e.$t("shipping_booking_set.time_inform")))]),n("div",{staticClass:"time-info"},[n("div",{staticClass:"line"},[n("label",[n("span",{staticClass:"setdotColor"},[e._v("*")]),e._v(" "+e._s(e.$t("shipping_booking_set.time_goods_ok"))+": "),n("span",{staticStyle:{color:"#fff"}},[e._v("0")])]),n("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",placeholder:e.$t("shipping_booking_set.choose_time")},model:{value:e.goodsReadyTime,callback:function(t){e.goodsReadyTime=t},expression:"goodsReadyTime"}})],1),n("div",{staticClass:"line"},[n("label",[n("span",{staticClass:"setdotColor"},[e._v("*")]),e._v(" "+e._s(e.$t("shipping_booking_set.time_goods_ready_go"))+": "),n("span",{staticStyle:{color:"#fff"}},[e._v("0")])]),n("el-date-picker",{attrs:{type:"date",placeholder:e.$t("shipping_booking_set.choose_time")},model:{value:e.shippingTime,callback:function(t){e.shippingTime=t},expression:"shippingTime"}})],1)]),n("h2",[e._v(e._s(e.$t("shipping_booking_set.find_people")))]),n("div",{staticClass:"operatior-info"},[n("p",[n("label",[e._v(e._s(e.$t("shipping_booking_set.find_people_name"))+":")]),e._v("Melinda Wu ")]),n("p",[n("label",[e._v(e._s(e.$t("shipping_booking_set.find_people_address"))+":")]),e._v("400-070-5156 ")]),n("p",[n("label",[e._v(e._s(e.$t("shipping_booking_set.find_people_email"))+":")]),e._v("melinda.wu@eztrans.cn ")])]),n("div",{staticClass:"button-wrap"},[n("el-button",{attrs:{type:"primary"},on:{click:e.submitShippingBook}},[e._v(e._s(e.$t("shipping_booking_set.button_ok_next")))])],1)])],1)},i=[],a=(n("99af"),n("d81d"),n("a434"),n("b0c0"),n("b85c")),r=(n("96cf"),n("1da1")),o=n("a165"),p=function(e){var t=e.getTime(),n=(new Date).getTime();return!(t<n)},l=n("3475"),c=n("99c5"),d={data:function(){return{setData:{},options:[{value:"选项1",label:"包/盒/袋/套"},{value:"选项2",label:"纸箱"},{value:"选项3",label:"件"},{value:"选项4",label:"台/套（设备等）"},{value:"1",label:"木箱"},{value:"2",label:"卷"},{value:"3",label:"辆"},{value:"4",label:"袋"},{value:"5",label:"袋"},{value:"6",label:"桶"},{value:"7",label:"捆"},{value:"8",label:"码"},{value:"9",label:"令"},{value:"0",label:"匹"}],optionsValue:"",detailId:"",orderId:"",orderDetail:null,queryDetail:null,planDetail:null,goodsDetail:[],plan:{pol:"",pod:""},address:{from:"",to:""},descriptions:[],shipper:{name:"",address:"",phone:"",email:"",inform:""},consignee:{name:"",address:"",phone:"",email:"",card:"",social:"",inform:""},insurance:!0,payment:1,shippingTime:null,goodsReadyTime:null}},computed:{transportRoute:function(){return this.planDetail&&this.planDetail.transportRoute?this.planDetail.transportRoute:null}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,s,i,r,o,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.orderId=e.$route.params.id,t.next=3,Object(c["b"])(parseInt(e.$route.params.id));case 3:if(n=t.sent,0==n.code&&(e.orderDetail=n.data.order),!e.orderDetail){t.next=10;break}return t.next=8,Object(c["d"])(parseInt(e.orderDetail.planId));case 8:if(s=t.sent,0==s.code){i=s.data,e.planDetail=i.plan,e.queryDetail=i.query,e.goodsDetail=i.itemList,r=Object(a["a"])(e.goodsDetail);try{for(r.s();!(o=r.n()).done;)p=o.value,e.descriptions.push({desc:p.name,num:"",unit:"",weight:p.weight,volume:p.volume})}catch(l){r.e(l)}finally{r.f()}}case 10:case"end":return t.stop()}}),t)})))()},methods:{handleDeleteDesc:function(e){this.descriptions.splice(e,1)},handleAddDesc:function(){this.descriptions.push({desc:"",num:"",unit:"",weight:"",volume:""})},checkDescInfo:function(){var e=this.goodsDetail.map((function(e){return e.marks?e.unit?e.desc?"ok":"descEmpty":"unitEmpty":"marksEmpty"}));return e},checkUserInfo:function(){var e=Object(l["b"])();return e.test(this.shipper.email)?e.test(this.consignee.email)?this.shipper.name&&this.shipper.address&&this.shipper.phone&&this.shipper.email?!!(this.consignee.name&&this.consignee.address&&this.consignee.phone&&this.consignee.email)||(this.$message.error(this.$t("message.consigner_empty")),!1):(this.$message.error(this.$t("message.shipper_empty")),!1):(this.$message.error(this.$t("register_login.email_mistake_cosigneer")),!1):(this.$message.error(this.$t("register_login.email_mistake_shipper")),!1)},checkTimeInfo:function(){return this.shippingTime?this.goodsReadyTime?p(this.shippingTime)?!!p(this.goodsReadyTime)||(this.$message.error(this.$t("message.goodsReadyTime_must_later")),!1):(this.$message.error(this.$t("message.shippingTime_must_later")),!1):(this.$message.error(this.$t("message.shop_ready_empty")),!1):(this.$message.error(this.$t("message.shop_go_empty")),!1)},p:function(e){return e<10?"0"+e:e},submitShippingBook:function(){var e=this,t=this.$route.query.order_id,n=JSON.stringify(this.goodsDetail),s=new Date(this.goodsReadyTime),i=s.getFullYear()+"-"+this.p(s.getMonth()+1)+"-"+this.p(s.getDate()),a=Date.parse(new Date(i)),r=new Date(this.shippingTime),p=r.getFullYear()+"-"+this.p(r.getMonth()+1)+"-"+this.p(r.getDate()),l=Date.parse(new Date(p)),c=this.checkDescInfo(),d="";if(c.map((function(e){"ok"!=e&&(d=e)})),"marksEmpty"==d)return this.$message.error(this.$t("message.shop_maitou_empty"));if("unitEmpty"==d)return this.$message.error(this.$t("message.shop_baozhuang_leixing"));if("descEmpty"==d)return this.$message.error(this.$t("message.shop_describe_empty"));if(this.checkDescInfo()&&this.checkTimeInfo()){this.checkTimeInfo();var u=new FormData;u.append("sbs_items",n),u.append("shipping_time",l),u.append("goods_ready_time",a),u.append("shipper_name",this.shipper.name),u.append("shipper_address",this.shipper.phone),u.append("shipper_phone",this.shipper.phone),u.append("shipper_email",this.shipper.email),u.append("shipper_inform",this.shipper.inform),u.append("consignee_name",this.consignee.name),u.append("consignee_address",this.consignee.address),u.append("consignee_phone",this.consignee.phone),u.append("consignee_email",this.consignee.email),u.append("consignee_inform",this.consignee.inform),u.append("pol",this.plan.pol),u.append("pod",this.plan.pod),u.append("insurance",this.insurance),u.append("paid_by",this.payment),u.append("order_id",t),Object(o["c"])("/sbs/create",u).then((function(){e.$router.push({path:"success",query:{id:"hello world"}})})).catch((function(t){406==t.response.status?e.checkUserInfo():t.response.status}))}}},watch:{shippingTime:function(e){p(e)||this.$message.error(this.$t("message.shippingTime_must_later"))},goodsReadyTime:function(e){p(e)||this.$message.error(this.$t("message.goodsReadyTime_must_later"))}},created:function(){var e=this,t=this.$route.query.order_id;Object(o["a"])("/order/"+t).then((function(t){console.log("order: ",t.data),e.setData=t.data,t.data.plan?(e.plan.pol=5===t.data.plan.pol.length?e.$t("port.".concat(t.data.plan.pol)):e.$t("iata.".concat(t.data.plan.pol)),e.plan.pod=5===t.data.plan.pod.length?e.$t("port.".concat(t.data.plan.pod)):e.$t("iata.".concat(t.data.plan.pod))):(e.plan.pol=e.$t("country.".concat(t.data.expressPlan.col)),e.plan.pod=e.$t("country.".concat(t.data.expressPlan.cod))),e.address.from=t.data.query.from.addressLine?t.data.query.from.addressLine:t.data.query.from.formattedAddress,e.address.to=t.data.query.to.addressLine?t.data.query.to.addressLine:t.data.query.to.formattedAddress,e.detailId=t.data.id;var n=t.data.query.items,s=[];n.map((function(t){var n={};e.$set(n,"name",t.name),e.$set(n,"weight",t.weight),e.$set(n,"volume",t.volume),e.$set(n,"desc",""),e.$set(n,"marks","N/M"),e.$set(n,"num",""),e.$set(n,"unit",""),s.push(n)})),e.goodsDetail=[].concat(s),e.shipper.name=t.data.createdBy.nickName,e.shipper.phone=t.data.createdBy.phone,e.shipper.email=t.data.createdBy.email,e.shipper.address=t.data.query.from.addressLine,e.consignee.address=t.data.query.to.addressLine}))}},u=d,h=(n("e618"),n("2877")),_=Object(h["a"])(u,s,i,!1,null,null,null);t["default"]=_.exports},b85c:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");var s=n("06c5");function i(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(s["a"])(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,r=!0,o=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i["return"]||i["return"]()}finally{if(o)throw a}}}}},e618:function(e,t,n){"use strict";var s=n("159d"),i=n.n(s);i.a}}]);